<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no"/>
	<title>登录</title>
	<link rel="stylesheet" type="text/css" href="./css/login.css">
	<link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
	<script type="text/javascript" src="./js/jquery.js"></script>
	<script src="./js/login.js"></script>
</head>
<body>
	<div id="all">
		<div class="top">
		    <ul>
		    	<li>普通登陆</li>
		    	<li>验证码登录</li>
		    </ul>
		</div>
		<input type="text" placeholder="请输入手机号" name="phone">
    	<input type="password" placeholder="请输入密码（最少8位，需含数字、字母）" name="password">
    	<div class="next" @click="button">
    	立即登陆
    	</div>
    	<div class="bottom clearfix">
    		<span class="left">立即注册</span>
    		<span class="right">忘记密码</span>
    	</div>
	</div>
	<script type="text/javascript">
		var vm = new Vue({
    	el:"#all",
    	data:{
    		phone:"",
    		name:"",
    		password:""
    	},
    	methods:{
    		button:function(){
    			var phone = $("input[name='phone']").val();
    			var password = $("input[name='password']").val();
    			$.ajax({
					url:"http://lianjia.cn/index.php/home/user/login",
					data:{
						mobile:phone,
					    password:password
					},
					type:"post",
					dataType:"json",
					success:function(res){
						localStorage.setItem("user_id",res.info.user_id)
						console.log(res)
						location.href="index.html"
					}.bind(this)
				})
    		},
    		request:function(index){
			}
    	},
    	mounted(){
    		this.request()
    	}
    })
	</script>
</body>
</html>